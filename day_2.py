from typing import List

puzzle_input = """B Z
A X
C X
C X
C Z
C X
C X
A Z
C X
B Z
B Z
C X
A X
C X
C X
C X
C Y
C X
C Z
C X
C X
C X
C X
C X
C Z
C X
C X
A X
C X
B Y
A X
B X
A Z
C X
B Y
A X
C Z
C X
C Z
A X
A Y
B Z
A Z
C X
A Z
A Z
A Y
C Y
A Y
A Z
C X
A Y
B Y
A Z
B Y
C Z
A X
C X
C Z
B Z
C X
B Y
C X
A Z
C X
A X
C X
C X
A Z
B Z
C X
C X
C Z
C X
B X
C X
A Z
A X
A Y
A Y
A Z
C X
C Z
C X
B Y
C X
C X
A X
A X
C Z
C X
B X
C Z
C X
C X
C X
B Z
B Y
A Z
C X
A Z
C X
C Z
A Z
C X
A X
C X
C Z
C Z
C X
C Z
A Y
C X
A X
A Z
A X
C Y
B X
C X
A X
A Y
A X
B Y
A X
C X
B Y
A Z
C X
B X
C X
A Y
C Z
C X
C Z
C X
A Y
A Z
C X
A Z
B Y
C X
A Z
C X
C Z
B Z
C X
C Z
C X
C Z
C X
A Y
C X
C X
A Z
C Z
C X
A X
C X
C X
B Y
C X
C X
C X
C X
C X
A Y
C Z
C X
C X
C Z
B X
C X
C X
C Z
B Y
B Y
C X
C X
A Z
C Z
C X
C Z
C X
A Y
A X
A X
A Y
C X
C X
C X
A Z
B Z
C Z
A Y
A Y
C X
C X
B Y
C X
C X
C X
A Z
B Y
B Y
C X
C Y
C X
C Z
B Y
C X
C X
C Z
A X
B Y
C X
A Z
C X
A Z
C X
A Z
C X
C Z
C X
A Z
C X
A X
C Z
A Z
A Y
C X
C Z
B Y
A Z
C X
B Y
B X
A Z
C X
C Y
A X
C Z
A X
C Z
C Z
C Z
A Z
C X
C X
A Z
C X
A X
C X
B X
C X
C X
C Z
C X
C X
C Z
C X
A Y
C Z
C Z
A X
A Z
B X
C X
C X
B X
C Y
C X
A Y
C Z
A X
C X
A Y
A Z
C X
A Y
A Z
A Z
C Z
C X
A Y
C X
A X
C X
C X
C X
A Z
C X
C X
A Z
A X
C X
B Y
B X
C X
C X
A Y
A Z
B Z
C Z
A Z
A X
C Z
A X
C X
B X
C X
B X
C X
A X
C Z
C X
A Z
A Y
C X
C Z
C X
A X
C X
B Y
A Z
C X
C Z
A X
C X
A Z
C X
B Y
C X
C Y
C Y
B Z
C Z
A X
B Z
C X
C X
A Z
A X
C X
A X
B Z
A Z
B Y
B Y
C X
C X
A Z
A Z
B Z
A Z
A Z
A Z
B Y
C Z
A Y
A X
C X
C X
C X
C X
C Z
B Y
C X
A Z
B Y
B Y
C X
C X
A X
C X
C Z
C X
A X
A Z
C Z
C Z
B Z
B Y
C Z
C Z
A X
B Y
C X
C Z
B Y
C X
C X
C X
C X
B Z
C X
B X
C Y
C Z
A Z
C X
C X
C X
A Z
C X
B Z
C Z
C Z
C X
C Z
A Z
C X
C X
C X
C Z
C Z
C X
C X
C Z
C X
C Z
C X
A Z
C X
B Z
B X
B Z
A Z
A Z
B Y
C Y
C X
C X
C X
C X
A X
C X
A X
C X
C X
A Z
C X
C X
B Y
C Z
C X
C X
A Y
A X
C Z
C Z
C X
C X
C X
B X
C Z
C X
C X
C X
B X
A Y
B Z
C X
B Y
C X
C X
C X
B X
B Y
A Z
A Z
A Z
C X
A Z
C Z
B Z
C X
A Z
C X
C X
C X
A Y
B Y
C X
B Y
C Z
C X
B X
A Z
C X
A X
C X
C Z
C Z
B Y
C Z
C X
C X
B X
C X
C X
C X
C X
A Z
B Y
A X
C X
A Y
B X
A Z
A Z
C X
A Y
C Z
A Z
A X
A Y
C X
C Z
C Z
C Z
C X
B Y
C X
A Y
C X
A Z
C X
C Z
C X
B X
C Z
C Y
C X
B Z
A X
B X
C X
B Y
C Z
C Z
C Z
C X
A Z
C Z
C X
C X
C X
B Z
C X
C X
A Z
C X
A Z
C Z
A Z
A Z
A Z
C X
A X
C X
A Z
A Y
C X
A Z
C X
B Y
A X
C Z
A Z
C Z
A Y
C X
A Z
C Z
C X
C X
C X
C Y
C X
A Y
A Z
A X
C Z
C Z
A Y
C X
C X
B Y
B Z
C X
B Y
C Z
C Z
C X
C Z
B Y
C Z
B Y
C Z
B Y
C X
A X
A X
C X
A Z
A Z
C X
C X
B Y
A Z
C Z
A X
C Z
C X
C Y
A Z
A Z
C X
C X
A X
C X
C Z
C X
B Z
C X
A Z
A Z
C X
A Z
A X
A Z
C Y
B Y
C X
C X
C Z
C Z
C Z
C Z
C X
A X
C X
B Y
C X
B Y
B Y
B X
C X
C X
C X
C X
C X
C Z
A X
C X
C X
A Z
A Z
C X
A Z
C X
C Z
C X
B Z
A Z
C X
C X
C X
C Z
A Z
B Y
C X
C X
C Z
C X
C X
C X
A Z
B Z
A X
C Z
C X
C X
A X
C X
C X
C X
A Z
A Y
C Y
C Z
C X
C Z
C Z
A Z
C X
C X
B X
C Z
A Y
C X
C X
C X
C Z
C X
C Z
C X
C X
C X
B X
C X
A Z
B X
B Y
C X
A Z
A Z
C X
A Y
C X
C Z
A Z
B Z
A Z
B Y
A X
A Y
B X
C X
B Z
C Z
B Y
C X
A Z
C Z
C Z
C Z
B X
C X
A X
B Y
C X
C X
A X
B Z
B X
C X
C X
A X
C X
C X
C X
C X
C Z
C X
A Z
B Y
A Y
B Y
A X
C X
A Y
A Z
C X
C X
B Y
C X
B Y
C Z
C X
C X
B Y
C X
A Z
C Z
C X
C X
C Z
C X
C X
B Y
B Y
C X
C X
C X
C X
C X
A Z
C X
C X
B Z
B Y
A Z
C X
C X
C X
A Y
C X
A Y
A X
A Z
B X
C X
A X
B X
A Z
C Z
C X
A Z
A X
C X
C X
C X
C X
B Z
A X
A X
C Z
C X
C X
A Y
C Z
C X
B Y
C X
B Y
C X
C X
B X
C X
A Z
C Z
C X
C X
C X
C X
A Z
A Y
C Z
C X
B X
A Y
A X
A X
B X
C X
C X
A X
C X
C Z
A X
C Z
C X
B Y
C X
C X
C Z
C X
B Z
C X
C X
C Z
B Z
C X
C Z
A Z
C X
B X
C X
C X
C X
C X
C X
C X
A Z
A Z
B Z
A Y
A Z
B X
A Y
B Y
C X
C X
C Z
C X
C X
C X
A Y
C X
C X
B X
C Z
C X
C X
C X
C X
B Y
A Y
C X
A Z
C X
C X
C Z
C X
C Z
C X
C X
B Y
A Z
B X
A X
C X
C Z
C X
C X
C X
C X
C X
B Z
C X
C X
C Z
B Y
C X
B Y
C X
C X
C X
C X
C Z
C X
A Y
C X
C Z
A Y
A X
B Z
C Z
C X
A X
C X
A Y
C X
C X
B X
C X
B X
B Z
A Z
A X
C X
A Z
C X
C X
C X
C X
A Y
C Y
A X
C Z
A Y
C X
A Z
C X
C X
C X
A Y
C X
C X
C X
C X
A X
C X
A Z
A Z
A X
A Z
C Z
C X
B Y
A Y
C X
C X
C X
C X
A Z
C X
A Z
B X
B Y
C X
A Z
A X
C X
C Z
C X
C X
C Z
C X
C Z
B X
C X
C X
C X
A X
A Z
C Z
C Y
C X
A Y
B Y
C X
B Y
C X
C X
C X
A Z
C X
B Z
A Y
C X
C X
B Y
A X
C Z
C X
B Y
C Z
A Y
B Y
B Z
C X
C X
A Z
C X
C Z
C Y
A X
B Y
C Y
A X
C Z
C Y
C X
A Y
B Z
C X
A Z
C X
B Y
C X
C Y
C X
C Z
C X
A Z
C Z
C X
C X
C X
B X
A Z
C X
C X
C Z
C Y
C Z
C X
C X
C Z
A X
C Z
C Y
B Y
C X
B Y
C Z
C X
C X
C X
A X
B X
C X
B Z
A Y
C X
C Z
B Y
C X
C X
C X
C Z
C X
C X
C X
C X
A Y
C X
B X
C Y
A X
B Y
A Z
C X
C X
A Z
C Z
C X
C Z
A Y
A X
C Z
A Z
C Y
A Z
B Y
C X
A Z
C X
C Z
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C Z
B X
A Y
C X
C X
C Z
A Y
A Z
A Z
B Y
C X
C Z
C X
C Z
C X
C X
C X
C X
A Z
A X
A Z
C X
A Y
B Y
C X
C Y
A Z
B X
C Z
A X
C X
C X
C X
C X
C X
A Y
A Z
C X
C X
A X
C Z
A Z
A X
C X
B Y
A X
C Z
B Y
C X
A Z
B Z
C X
C Z
C Z
B X
B Y
C Z
A X
C Z
C Z
A Y
A Y
C X
C X
C X
C X
A Y
C X
A Z
C X
C X
C X
C X
C X
B Y
C Z
C X
C X
C Z
C X
C X
B Z
C X
A Z
A Z
C X
A X
C X
C X
B Z
C X
A Z
C X
B X
C X
C Z
C X
A X
C X
B Y
A X
C Z
C Z
C X
C X
C Z
C X
C X
C X
A Z
A X
C X
B X
C Z
A Z
C Z
B Z
C X
A X
C X
C X
C Z
C X
A Y
A Y
C Z
C X
B Y
B Z
C X
B X
C X
C X
A Z
C Z
C Z
C X
B X
A Z
C X
C Z
A X
C Z
C Z
A Z
A Y
A Z
C X
C X
C X
A Z
A Y
C X
A Z
B Z
C X
B X
B X
C Z
C Z
C Z
C X
C X
C X
A Z
C X
C X
C X
C X
A Z
C X
C Y
A X
C X
C X
B Y
C X
C X
A X
C Z
C Z
C Z
A Z
C X
C X
C X
A Y
C Z
C X
C X
C X
C Y
C Z
C X
C X
C X
C X
A Z
C X
C X
A X
C X
A X
C X
C X
A Z
C X
C X
A Y
C Z
A X
A Y
C X
A Z
B Y
B Y
A X
C Z
C X
C X
C X
A X
A Z
B Y
C X
A Y
C X
C X
B Y
C X
C X
C X
B Y
C X
C Z
C X
C Z
A Y
B Y
C X
C Z
C X
B X
A Z
C Z
C Z
C Z
C X
B Z
C X
B X
C Y
C Z
C X
C X
C Z
A Z
B X
C X
C X
A Z
C X
A Z
C X
A Y
C X
C Z
A Z
A X
C X
B X
C X
C X
C X
C Y
B X
C X
B Y
C X
C Y
A Z
A Y
C X
A Z
C Z
A Y
B Y
C Z
A X
A X
B X
C X
C X
C Z
A X
B Y
A X
C Z
C X
C X
C X
A X
C X
C X
C X
C Y
C X
C X
C Z
C X
C X
C X
A Z
B X
A Z
C X
A X
C X
B Y
B Z
C X
C X
A Z
C X
A Y
B X
C X
C X
C Z
B Y
C X
A Y
C X
B Z
C X
A Z
C Z
C X
C X
C X
C Z
A X
B X
C Z
B Y
C Z
C X
B Y
A Z
C X
C X
C X
C X
C Z
A X
A Y
A Z
C X
C X
B Y
B Y
C X
A X
B Y
A Y
C X
C X
C X
A X
B X
B Y
A Z
C X
C X
C Z
A X
C X
A X
A Z
C X
A Z
C X
C Z
C Z
B Z
C X
B Y
C Z
C X
A Z
C X
C X
C X
C X
C X
C Y
C X
C X
A Z
C X
A X
A Y
B Y
C X
A Y
B X
C Z
C X
A Z
C X
C X
C X
A Z
B Z
C Z
B Z
C X
C X
C Y
C Z
C X
C Z
C X
C X
C X
B X
C X
C X
A Z
B Y
C Z
C Z
C X
A Z
B Y
A X
C X
A Z
C Z
C X
C X
A Z
A X
C Y
B Z
A X
C X
A Z
C X
C Z
A Z
C X
A Y
C X
C X
B Z
C X
C Z
A Z
A Z
C X
B Z
B X
A Z
A X
C X
C X
C X
C Z
C X
A X
C X
C X
B X
C Z
C X
C X
C Y
A Z
B Y
A Z
B Y
C X
A Z
C Z
C Y
B Z
A X
C X
C X
A Y
B Y
A X
C Z
A Z
C X
C X
B Y
B Y
C X
C X
C X
C X
C X
C Z
A X
A X
A X
C Z
C X
A X
C Z
B Z
C Z
C X
A X
A Y
C X
A Z
C X
C X
C Z
C Z
C X
A X
A X
C Y
A Y
C X
C Z
A X
A Y
A Z
B Y
C X
B Y
A Z
B X
C X
C Z
C X
B Z
A Z
A Z
C Z
C X
C X
C Y
C X
B X
C X
C Z
A X
C Y
A Z
C X
C X
A Z
A Z
A Z
C Z
A Z
C X
B X
B Y
C X
A Z
C Z
C X
C X
C X
A X
B Y
A Z
B Y
C X
B Z
A Z
C Z
C Z
C X
C X
C X
A Z
C X
A X
C Z
A Y
C X
A Y
C X
C Z
C X
C X
C X
B Y
C X
B Y
C Z
B Y
B Z
A Z
A X
C Z
C X
C X
B Y
B Y
A Z
C X
C Z
C Z
C Z
B Z
B Y
B X
C X
C X
C X
C Z
C X
C X
B Y
C X
C X
B Y
C X
C X
C X
C X
A Y
C X
C X
A Z
C Z
A Z
A Z
A Y
A Z
C Z
C X
C X
C X
C X
B Y
A Z
C X
C X
B Y
A Y
A Z
A Z
C Z
C X
C Y
C X
C X
B Y
C X
A X
B X
B Y
C Z
A X
C X
C X
A X
C X
A Y
A Y
C X
C X
B Y
C X
A Z
C Z
A X
C X
A Z
C X
C X
C X
C Z
A Z
B X
C X
A Z
C Z
B Y
C X
C X
B X
C X
C X
A Y
B Z
B Y
C X
C X
C X
C Z
C X
C X
C X
B Y
C X
C Z
C X
A Z
B Y
A X
B Y
A Z
C X
C X
A Z
B Y
C X
A Z
C X
A Z
A Z
B Z
A Y
A Z
C X
C Z
C X
A X
C X
B Y
B X
C Z
C X
B Y
C Z
C X
B Y
C X
C Y
C Z
A X
B Z
C X
C X
C Z
A Z
C X
C Z
A Z
C X
C X
C Z
C Z
B Y
A Z
C X
B X
B Y
C X
C X
C X
C X
B Z
A Z
C X
A Z
A X
A Z
C X
A X
C Z
A Z
C Z
B Z
B Y
C X
A X
C Z
C Z
A Y
B X
C X
C X
A X
C X
C X
C X
A Z
A Z
C X
A Z
C Z
C Z
C X
C Z
B Y
C X
C X
C X
A Z
A Z
C X
C X
C X
C Z
A Z
C X
A X
C Z
C X
B Y
C X
C Z
C X
C X
A X
A X
B Y
C Z
C X
C Z
A Z
C X
A X
A Z
C X
C X
C Y
C X
A Z
C X
A Z
B X
A X
A Z
A Z
A Z
A Y
A X
C X
C X
A Z
C Z
C X
C X
A Z
C Z
C X
C X
C X
C X
C X
C X
A Z
A Y
C Z
C X
A Z
A X
C X
C Z
A Z
C X
B Y
A Z
A Z
C X
A Z
C X
C X
A Z
C X
C Y
C X
C X
B Y
A Y
A Z
C X
C X
B Y
C X
C X
C Z
C Z
C X
B X
C X
C Z
A Y
C Z
B Y
C X
C X
B Y
A Z
B Y
C Z
A Y
A Z
B Y
A X
C X
C X
C Z
C X
A X
C X
C X
C Z
A Z
A Z
A Z
C Z
B X
A Z
A Z
C X
C X
C X
A Y
A Z
C Z
C X
C Z
C X
A Z
C Z
A Z
C X
B Y
C Z
C X
C X
A Z
C Z
C Z
B X
C Z
C Z
A Z
A Y
C X
C X
C Z
C X
A X
C X
C X
C X
C Z
B Y
B Y
C X
B Y
C X
C X
C X
A Z
B Z
C X
C X
C X
C X
C Z
C X
C X
C X
A Z
C X
B Y
C X
A Y
B Z
A Z
C X
B X
A Y
C Z
C X
C X
C X
C Z
A Y
C Y
C X
A Y
A Y
C X
C X
C X
C X
C Z
B X
C X
C X
C X
A Z
B X
C X
C X
B Y
C X
C X
C X
A Z
C X
C X
C X
B Y
C X
B Z
B X
C Z
C X
C Z
C X
B X
A Z
C X
C X
A Z
C Z
C X
A Z
B Z
C X
A X
A Z
C Z
C X
C X
B X
B X
C X
B X
C X
C Z
C X
C X
A Y
A X
A X
C Z
C Z
A Z
C Z
C X
C X
C X
C Z
A X
C Z
A X
C Z
C X
C X
A Y
C Z
A Z
A X
A Z
B Y
C X
C Z
C X
C X
A X
A X
C X
C X
C X
C X
A Z
C X
C Z
A X
C X
B Y
C Z
C X
A X
C X
C Z
C X
A X
A X
A X
C X
A Z
A X
C Z
C Z
C X
C Y
A Y
C X
C X
B X
C X
C X
C Z
B Y
A Z
C X
B Y
A Z
C Z
A Z
A Y
C Z
B Z
A X
B Z
C Z
A X
C Z
A Z
A Z
B Z
C X
C X
C X
C X
A X
C X
C X
C X
C X
C X
B Y
C X
C X
C X
B Z
A Y
A X
C Z
C X
A Y
B Y
C X
A Y
A Z
B X
A Z
C X
B Y
C X
A Z
A Z
C X
A Z
A Z
C X
A X
A Z
C Z
B Z
C X
A X
C Y
A Y
C X
A Z
C X
C X
C X
C Z
C X
C X
C X
A Y
B Z
A X
A Z
A Z
C X
A X
B X
C X
B X
C X
A Z
A X
C X
A X
A Y
A Y
A Z
A Z
C X
B X
C X
A Y
C Z
A Z
C X
C X
A Y
A Z
B Y
C X
C X
C X
C X
C X
A Z
C Z
C X
C X
C Z
C X
C Z
B Y
C X
A Z
B X
C Z
C X
C Z
C Z
C Z
C X
C X
C Z
C X
C Z
B Y
C X
C X
A Z
C X
C X
B Y
C X
C Z
C X
B X
C Z
A X
C X
C Z
C X
C Z
B Y
C X
A Z
A Y
C X
C Y
B Z
B X
C X
C X
C Z
C X
B Y
C X
A Z
A Y
C X
B Y
C X
C Z
B Y
C X
A Y
C X
C X
C X
A Z
C Z
C X
C X
A X
A Z
C X
C X
A Y
C X
B Y
C Z
C Z
C Z
B Y
C X
C X
C X
C X
A Y
A Z
A X
C Z
A Z
A Z
A Z
C X
A Y
B X
A Z
C X
C X
B X
C X
C X
C X
B Y
A Z
A X
A Z
C X
B X
A X
C X
C X
C X
C X
C X
C Z
A Z
C X
C X
C Z
C X
A Y
A Z
C X
A Z
C X
A Z
C Z
A Z
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
C X
B Z
C X
A X
C Z
C X
A X
C Z
A X
B Y
A Y
C X
A Z
C X
C X
C X
C X
C X"""


def calculate_outcome(opponent: str, mine: str) -> int:
    """Determine the points earned for win/loss/draw."""
    opponent_numerical: int = ord(opponent) - ord("A")  # 0, 1, 2
    mine_numerical: int = ord(mine) - ord("X")  # 0, 1, 2
    # Draw
    if opponent_numerical == mine_numerical:
        return 3
    # I win
    if mine_numerical == ((opponent_numerical + 1) % 3):
        return 6
    # I lose
    return 0


def calculate_hand(mine: str) -> int:
    return {"X": 1, "Y": 2, "Z": 3}[mine]


def calculate_total_score(i: str) -> int:
    score = 0
    for line in i.split("\n"):
        opp, me = line.split(" ")
        delta = calculate_outcome(opp, me) + calculate_hand(me)
        score += delta
    return score


def rewrite_outcomes_to_hands(i: str) -> str:
    # Rewrite the (opponent_hand, outcome) pairs into (opponent_hand, my_hand) format
    answers = []
    for line in i.split("\n"):
        opp, outcome = line.split(" ")
        opp_numeric = ord(opp) - ord("A")
        outcome_numeric = ord(outcome) - ord("Y")  # -1, 0, 1
        mine_numeric = (opp_numeric + outcome_numeric) % 3
        mine = chr(mine_numeric + ord("X"))
        answers += [f"{opp} {mine}"]
    return "\n".join(answers)


def main() -> int:
    # part 1
    a: int = calculate_total_score(puzzle_input)
    print(a)
    # part 2
    rewritten_input: str = rewrite_outcomes_to_hands(puzzle_input)
    b: int = calculate_total_score(rewritten_input)
    print(b)
    return 0


if __name__ == "__main__":
    raise SystemExit(main())
